{"version":3,"sources":["ResizeSensor.js","jquery.waypoints.js","ad-refresher.js"],"names":["ResizeSensor","element","callback","EventQueue","this","q","add","ev","push","i","j","call","length","getComputedStyle","prop","currentStyle","window","getPropertyValue","style","attachResizeEvent","resized","resizedAttached","resizeSensor","document","createElement","className","styleChild","cssText","innerHTML","appendChild","fixed","absolute","position","lastWidth","lastHeight","expand","childNodes","expandChild","shrink","reset","width","offsetWidth","height","offsetHeight","scrollLeft","scrollWidth","scrollTop","scrollHeight","changed","addEvent","el","name","cb","attachEvent","addEventListener","onScroll","elementType","Object","prototype","toString","isCollectionTyped","jQuery","Elements","detach","removeChild","module","exports","Waypoint","options","Error","handler","key","keyCounter","Adapter","extend","defaults","adapter","axis","horizontal","enabled","triggerPoint","group","Group","findOrCreate","context","Context","findOrCreateByElement","offsetAliases","offset","allWaypoints","queueTrigger","direction","trigger","args","apply","destroy","remove","disable","enable","refresh","next","previous","invokeAll","method","allWaypointsArray","waypointKey","end","destroyAll","disableAll","enableAll","refreshAll","viewportHeight","innerHeight","documentElement","clientHeight","viewportWidth","clientWidth","adapters","continuous","bottom-in-view","outerHeight","right-in-view","innerWidth","outerWidth","requestAnimationFrameShim","setTimeout","didScroll","didResize","oldScroll","x","y","waypoints","vertical","waypointContextKey","contexts","createThrottledScrollHandler","createThrottledResizeHandler","oldWindowLoad","onload","waypoint","checkEmpty","horizontalEmpty","isEmptyObject","verticalEmpty","off","resizeHandler","self","handleResize","on","requestAnimationFrame","scrollHandler","handleScroll","isTouch","triggeredGroups","axes","newScroll","forward","backward","axisKey","isForward","wasBeforeTriggerPoint","nowAfterTriggerPoint","crossedForward","crossedBackward","id","groupKey","flushTriggers","isWindow","contextOffset","undefined","left","contextScroll","contextDimension","offsetProp","top","contextModifier","wasBeforeScroll","nowAfterScroll","triggeredBackward","triggeredForward","adjustment","oldTriggerPoint","elementOffset","freshWaypoint","parseFloat","indexOf","Math","ceil","findByElement","contextId","requestFn","mozRequestAnimationFrame","webkitRequestAnimationFrame","byTriggerPoint","a","b","byReverseTriggerPoint","clearTriggerQueues","groups","triggerQueues","up","down","right","reverse","sort","index","inArray","isLast","splice","first","last","JQueryAdapter","$element","$","each","Array","slice","arguments","createExtension","framework","overrides","isFunction","closest","fn","Zepto","init","loadingThreshold","LOADING_AD_POSITION_THRESHOLD","reloadingThreshold","RELOADING_AD_POSITION_THRESHOLD","AdRefresher"],"mappings":"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","file":"ad-refresher.min.js","sourcesContent":["/**\n * Copyright Marc J. Schmidt. See the LICENSE file at the top-level\n * directory of this distribution and at\n * https://github.com/marcj/css-element-queries/blob/master/LICENSE.\n */\n;\n(function() {\n\n    /**\n     * Class for dimension change detection.\n     *\n     * @param {Element|Element[]|Elements|jQuery} element\n     * @param {Function} callback\n     *\n     * @constructor\n     */\n    var ResizeSensor = function(element, callback) {\n        /**\n         *\n         * @constructor\n         */\n        function EventQueue() {\n            this.q = [];\n            this.add = function(ev) {\n                this.q.push(ev);\n            };\n\n            var i, j;\n            this.call = function() {\n                for (i = 0, j = this.q.length; i < j; i++) {\n                    this.q[i].call();\n                }\n            };\n        }\n\n        /**\n         * @param {HTMLElement} element\n         * @param {String}      prop\n         * @returns {String|Number}\n         */\n        function getComputedStyle(element, prop) {\n            if (element.currentStyle) {\n                return element.currentStyle[prop];\n            } else if (window.getComputedStyle) {\n                return window.getComputedStyle(element, null).getPropertyValue(prop);\n            } else {\n                return element.style[prop];\n            }\n        }\n\n        /**\n         *\n         * @param {HTMLElement} element\n         * @param {Function}    resized\n         */\n        function attachResizeEvent(element, resized) {\n            if (!element.resizedAttached) {\n                element.resizedAttached = new EventQueue();\n                element.resizedAttached.add(resized);\n            } else if (element.resizedAttached) {\n                element.resizedAttached.add(resized);\n                return;\n            }\n\n            element.resizeSensor = document.createElement('div');\n            element.resizeSensor.className = 'resize-sensor';\n            var style = 'position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;';\n            var styleChild = 'position: absolute; left: 0; top: 0; transition: 0s;';\n\n            element.resizeSensor.style.cssText = style;\n            element.resizeSensor.innerHTML =\n                '<div class=\"resize-sensor-expand\" style=\"' + style + '\">' +\n                    '<div style=\"' + styleChild + '\"></div>' +\n                '</div>' +\n                '<div class=\"resize-sensor-shrink\" style=\"' + style + '\">' +\n                    '<div style=\"' + styleChild + ' width: 200%; height: 200%\"></div>' +\n                '</div>';\n            element.appendChild(element.resizeSensor);\n\n            if (!{fixed: 1, absolute: 1}[getComputedStyle(element, 'position')]) {\n                element.style.position = 'relative';\n            }\n\n            var expand = element.resizeSensor.childNodes[0];\n            var expandChild = expand.childNodes[0];\n            var shrink = element.resizeSensor.childNodes[1];\n            var shrinkChild = shrink.childNodes[0];\n\n            var lastWidth, lastHeight;\n\n            var reset = function() {\n                expandChild.style.width = expand.offsetWidth + 10 + 'px';\n                expandChild.style.height = expand.offsetHeight + 10 + 'px';\n                expand.scrollLeft = expand.scrollWidth;\n                expand.scrollTop = expand.scrollHeight;\n                shrink.scrollLeft = shrink.scrollWidth;\n                shrink.scrollTop = shrink.scrollHeight;\n                lastWidth = element.offsetWidth;\n                lastHeight = element.offsetHeight;\n            };\n\n            reset();\n\n            var changed = function() {\n                if (element.resizedAttached) {\n                    element.resizedAttached.call();\n                }\n            };\n\n            var addEvent = function(el, name, cb) {\n                if (el.attachEvent) {\n                    el.attachEvent('on' + name, cb);\n                } else {\n                    el.addEventListener(name, cb);\n                }\n            };\n\n            var onScroll = function() {\n              if (element.offsetWidth != lastWidth || element.offsetHeight != lastHeight) {\n                  changed();\n              }\n              reset();\n            };\n\n            addEvent(expand, 'scroll', onScroll);\n            addEvent(shrink, 'scroll', onScroll);\n        }\n\n        var elementType = Object.prototype.toString.call(element);\n        var isCollectionTyped = ('[object Array]' === elementType\n            || ('[object NodeList]' === elementType)\n            || ('[object HTMLCollection]' === elementType)\n            || ('undefined' !== typeof jQuery && element instanceof jQuery) //jquery\n            || ('undefined' !== typeof Elements && element instanceof Elements) //mootools\n        );\n\n        if (isCollectionTyped) {\n            var i = 0, j = element.length;\n            for (; i < j; i++) {\n                attachResizeEvent(element[i], callback);\n            }\n        } else {\n            attachResizeEvent(element, callback);\n        }\n\n        this.detach = function() {\n            if (isCollectionTyped) {\n                var i = 0, j = element.length;\n                for (; i < j; i++) {\n                    ResizeSensor.detach(element[i]);\n                }\n            } else {\n                ResizeSensor.detach(element);\n            }\n        };\n    };\n\n    ResizeSensor.detach = function(element) {\n        if (element.resizeSensor) {\n            element.removeChild(element.resizeSensor);\n            delete element.resizeSensor;\n            delete element.resizedAttached;\n        }\n    };\n\n    // make available to common module loader\n    if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n        module.exports = ResizeSensor;\n    }\n    else {\n        window.ResizeSensor = ResizeSensor;\n    }\n\n})();\n","/*!\nWaypoints - 4.0.0\nCopyright © 2011-2015 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blog/master/licenses.txt\n*/\n(function() {\n  'use strict'\n\n  var keyCounter = 0\n  var allWaypoints = {}\n\n  /* http://imakewebthings.com/waypoints/api/waypoint */\n  function Waypoint(options) {\n    if (!options) {\n      throw new Error('No options passed to Waypoint constructor')\n    }\n    if (!options.element) {\n      throw new Error('No element option passed to Waypoint constructor')\n    }\n    if (!options.handler) {\n      throw new Error('No handler option passed to Waypoint constructor')\n    }\n\n    this.key = 'waypoint-' + keyCounter\n    this.options = Waypoint.Adapter.extend({}, Waypoint.defaults, options)\n    this.element = this.options.element\n    this.adapter = new Waypoint.Adapter(this.element)\n    this.callback = options.handler\n    this.axis = this.options.horizontal ? 'horizontal' : 'vertical'\n    this.enabled = this.options.enabled\n    this.triggerPoint = null\n    this.group = Waypoint.Group.findOrCreate({\n      name: this.options.group,\n      axis: this.axis\n    })\n    this.context = Waypoint.Context.findOrCreateByElement(this.options.context)\n\n    if (Waypoint.offsetAliases[this.options.offset]) {\n      this.options.offset = Waypoint.offsetAliases[this.options.offset]\n    }\n    this.group.add(this)\n    this.context.add(this)\n    allWaypoints[this.key] = this\n    keyCounter += 1\n  }\n\n  /* Private */\n  Waypoint.prototype.queueTrigger = function(direction) {\n    this.group.queueTrigger(this, direction)\n  }\n\n  /* Private */\n  Waypoint.prototype.trigger = function(args) {\n    if (!this.enabled) {\n      return\n    }\n    if (this.callback) {\n      this.callback.apply(this, args)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy */\n  Waypoint.prototype.destroy = function() {\n    this.context.remove(this)\n    this.group.remove(this)\n    delete allWaypoints[this.key]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable */\n  Waypoint.prototype.disable = function() {\n    this.enabled = false\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable */\n  Waypoint.prototype.enable = function() {\n    this.context.refresh()\n    this.enabled = true\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/next */\n  Waypoint.prototype.next = function() {\n    return this.group.next(this)\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/previous */\n  Waypoint.prototype.previous = function() {\n    return this.group.previous(this)\n  }\n\n  /* Private */\n  Waypoint.invokeAll = function(method) {\n    var allWaypointsArray = []\n    for (var waypointKey in allWaypoints) {\n      allWaypointsArray.push(allWaypoints[waypointKey])\n    }\n    for (var i = 0, end = allWaypointsArray.length; i < end; i++) {\n      allWaypointsArray[i][method]()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy-all */\n  Waypoint.destroyAll = function() {\n    Waypoint.invokeAll('destroy')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable-all */\n  Waypoint.disableAll = function() {\n    Waypoint.invokeAll('disable')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable-all */\n  Waypoint.enableAll = function() {\n    Waypoint.invokeAll('enable')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/refresh-all */\n  Waypoint.refreshAll = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-height */\n  Waypoint.viewportHeight = function() {\n    return window.innerHeight || document.documentElement.clientHeight\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-width */\n  Waypoint.viewportWidth = function() {\n    return document.documentElement.clientWidth\n  }\n\n  Waypoint.adapters = []\n\n  Waypoint.defaults = {\n    context: window,\n    continuous: true,\n    enabled: true,\n    group: 'default',\n    horizontal: false,\n    offset: 0\n  }\n\n  Waypoint.offsetAliases = {\n    'bottom-in-view': function() {\n      return this.context.innerHeight() - this.adapter.outerHeight()\n    },\n    'right-in-view': function() {\n      return this.context.innerWidth() - this.adapter.outerWidth()\n    }\n  }\n\n  window.Waypoint = Waypoint\n}())\n;(function() {\n  'use strict'\n\n  function requestAnimationFrameShim(callback) {\n    window.setTimeout(callback, 1000 / 60)\n  }\n\n  var keyCounter = 0\n  var contexts = {}\n  var Waypoint = window.Waypoint\n  var oldWindowLoad = window.onload\n\n  /* http://imakewebthings.com/waypoints/api/context */\n  function Context(element) {\n    this.element = element\n    this.Adapter = Waypoint.Adapter\n    this.adapter = new this.Adapter(element)\n    this.key = 'waypoint-context-' + keyCounter\n    this.didScroll = false\n    this.didResize = false\n    this.oldScroll = {\n      x: this.adapter.scrollLeft(),\n      y: this.adapter.scrollTop()\n    }\n    this.waypoints = {\n      vertical: {},\n      horizontal: {}\n    }\n\n    element.waypointContextKey = this.key\n    contexts[element.waypointContextKey] = this\n    keyCounter += 1\n\n    this.createThrottledScrollHandler()\n    this.createThrottledResizeHandler()\n  }\n\n  /* Private */\n  Context.prototype.add = function(waypoint) {\n    var axis = waypoint.options.horizontal ? 'horizontal' : 'vertical'\n    this.waypoints[axis][waypoint.key] = waypoint\n    this.refresh()\n  }\n\n  /* Private */\n  Context.prototype.checkEmpty = function() {\n    var horizontalEmpty = this.Adapter.isEmptyObject(this.waypoints.horizontal)\n    var verticalEmpty = this.Adapter.isEmptyObject(this.waypoints.vertical)\n    if (horizontalEmpty && verticalEmpty) {\n      this.adapter.off('.waypoints')\n      delete contexts[this.key]\n    }\n  }\n\n  /* Private */\n  Context.prototype.createThrottledResizeHandler = function() {\n    var self = this\n\n    function resizeHandler() {\n      self.handleResize()\n      self.didResize = false\n    }\n\n    this.adapter.on('resize.waypoints', function() {\n      if (!self.didResize) {\n        self.didResize = true\n        Waypoint.requestAnimationFrame(resizeHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.createThrottledScrollHandler = function() {\n    var self = this\n    function scrollHandler() {\n      self.handleScroll()\n      self.didScroll = false\n    }\n\n    this.adapter.on('scroll.waypoints', function() {\n      if (!self.didScroll || Waypoint.isTouch) {\n        self.didScroll = true\n        Waypoint.requestAnimationFrame(scrollHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.handleResize = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Private */\n  Context.prototype.handleScroll = function() {\n    var triggeredGroups = {}\n    var axes = {\n      horizontal: {\n        newScroll: this.adapter.scrollLeft(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left'\n      },\n      vertical: {\n        newScroll: this.adapter.scrollTop(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      var isForward = axis.newScroll > axis.oldScroll\n      var direction = isForward ? axis.forward : axis.backward\n\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        var wasBeforeTriggerPoint = axis.oldScroll < waypoint.triggerPoint\n        var nowAfterTriggerPoint = axis.newScroll >= waypoint.triggerPoint\n        var crossedForward = wasBeforeTriggerPoint && nowAfterTriggerPoint\n        var crossedBackward = !wasBeforeTriggerPoint && !nowAfterTriggerPoint\n        if (crossedForward || crossedBackward) {\n          waypoint.queueTrigger(direction)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    for (var groupKey in triggeredGroups) {\n      triggeredGroups[groupKey].flushTriggers()\n    }\n\n    this.oldScroll = {\n      x: axes.horizontal.newScroll,\n      y: axes.vertical.newScroll\n    }\n  }\n\n  /* Private */\n  Context.prototype.innerHeight = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportHeight()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerHeight()\n  }\n\n  /* Private */\n  Context.prototype.remove = function(waypoint) {\n    delete this.waypoints[waypoint.axis][waypoint.key]\n    this.checkEmpty()\n  }\n\n  /* Private */\n  Context.prototype.innerWidth = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportWidth()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerWidth()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-destroy */\n  Context.prototype.destroy = function() {\n    var allWaypoints = []\n    for (var axis in this.waypoints) {\n      for (var waypointKey in this.waypoints[axis]) {\n        allWaypoints.push(this.waypoints[axis][waypointKey])\n      }\n    }\n    for (var i = 0, end = allWaypoints.length; i < end; i++) {\n      allWaypoints[i].destroy()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-refresh */\n  Context.prototype.refresh = function() {\n    /*eslint-disable eqeqeq */\n    var isWindow = this.element == this.element.window\n    /*eslint-enable eqeqeq */\n    var contextOffset = isWindow ? undefined : this.adapter.offset()\n    var triggeredGroups = {}\n    var axes\n\n    this.handleScroll()\n    axes = {\n      horizontal: {\n        contextOffset: isWindow ? 0 : contextOffset.left,\n        contextScroll: isWindow ? 0 : this.oldScroll.x,\n        contextDimension: this.innerWidth(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left',\n        offsetProp: 'left'\n      },\n      vertical: {\n        contextOffset: isWindow ? 0 : contextOffset.top,\n        contextScroll: isWindow ? 0 : this.oldScroll.y,\n        contextDimension: this.innerHeight(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up',\n        offsetProp: 'top'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        var adjustment = waypoint.options.offset\n        var oldTriggerPoint = waypoint.triggerPoint\n        var elementOffset = 0\n        var freshWaypoint = oldTriggerPoint == null\n        var contextModifier, wasBeforeScroll, nowAfterScroll\n        var triggeredBackward, triggeredForward\n\n        if (waypoint.element !== waypoint.element.window) {\n          elementOffset = waypoint.adapter.offset()[axis.offsetProp]\n        }\n\n        if (typeof adjustment === 'function') {\n          adjustment = adjustment.apply(waypoint)\n        }\n        else if (typeof adjustment === 'string') {\n          adjustment = parseFloat(adjustment)\n          if (waypoint.options.offset.indexOf('%') > - 1) {\n            adjustment = Math.ceil(axis.contextDimension * adjustment / 100)\n          }\n        }\n\n        contextModifier = axis.contextScroll - axis.contextOffset\n        waypoint.triggerPoint = elementOffset + contextModifier - adjustment\n        wasBeforeScroll = oldTriggerPoint < axis.oldScroll\n        nowAfterScroll = waypoint.triggerPoint >= axis.oldScroll\n        triggeredBackward = wasBeforeScroll && nowAfterScroll\n        triggeredForward = !wasBeforeScroll && !nowAfterScroll\n\n        if (!freshWaypoint && triggeredBackward) {\n          waypoint.queueTrigger(axis.backward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (!freshWaypoint && triggeredForward) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (freshWaypoint && axis.oldScroll >= waypoint.triggerPoint) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    Waypoint.requestAnimationFrame(function() {\n      for (var groupKey in triggeredGroups) {\n        triggeredGroups[groupKey].flushTriggers()\n      }\n    })\n\n    return this\n  }\n\n  /* Private */\n  Context.findOrCreateByElement = function(element) {\n    return Context.findByElement(element) || new Context(element)\n  }\n\n  /* Private */\n  Context.refreshAll = function() {\n    for (var contextId in contexts) {\n      contexts[contextId].refresh()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-find-by-element */\n  Context.findByElement = function(element) {\n    return contexts[element.waypointContextKey]\n  }\n\n  window.onload = function() {\n    if (oldWindowLoad) {\n      oldWindowLoad()\n    }\n    Context.refreshAll()\n  }\n\n  Waypoint.requestAnimationFrame = function(callback) {\n    var requestFn = window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      requestAnimationFrameShim\n    requestFn.call(window, callback)\n  }\n  Waypoint.Context = Context\n}())\n;(function() {\n  'use strict'\n\n  function byTriggerPoint(a, b) {\n    return a.triggerPoint - b.triggerPoint\n  }\n\n  function byReverseTriggerPoint(a, b) {\n    return b.triggerPoint - a.triggerPoint\n  }\n\n  var groups = {\n    vertical: {},\n    horizontal: {}\n  }\n  var Waypoint = window.Waypoint\n\n  /* http://imakewebthings.com/waypoints/api/group */\n  function Group(options) {\n    this.name = options.name\n    this.axis = options.axis\n    this.id = this.name + '-' + this.axis\n    this.waypoints = []\n    this.clearTriggerQueues()\n    groups[this.axis][this.name] = this\n  }\n\n  /* Private */\n  Group.prototype.add = function(waypoint) {\n    this.waypoints.push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.clearTriggerQueues = function() {\n    this.triggerQueues = {\n      up: [],\n      down: [],\n      left: [],\n      right: []\n    }\n  }\n\n  /* Private */\n  Group.prototype.flushTriggers = function() {\n    for (var direction in this.triggerQueues) {\n      var waypoints = this.triggerQueues[direction]\n      var reverse = direction === 'up' || direction === 'left'\n      waypoints.sort(reverse ? byReverseTriggerPoint : byTriggerPoint)\n      for (var i = 0, end = waypoints.length; i < end; i += 1) {\n        var waypoint = waypoints[i]\n        if (waypoint.options.continuous || i === waypoints.length - 1) {\n          waypoint.trigger([direction])\n        }\n      }\n    }\n    this.clearTriggerQueues()\n  }\n\n  /* Private */\n  Group.prototype.next = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    var isLast = index === this.waypoints.length - 1\n    return isLast ? null : this.waypoints[index + 1]\n  }\n\n  /* Private */\n  Group.prototype.previous = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    return index ? this.waypoints[index - 1] : null\n  }\n\n  /* Private */\n  Group.prototype.queueTrigger = function(waypoint, direction) {\n    this.triggerQueues[direction].push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.remove = function(waypoint) {\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    if (index > -1) {\n      this.waypoints.splice(index, 1)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/first */\n  Group.prototype.first = function() {\n    return this.waypoints[0]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/last */\n  Group.prototype.last = function() {\n    return this.waypoints[this.waypoints.length - 1]\n  }\n\n  /* Private */\n  Group.findOrCreate = function(options) {\n    return groups[options.axis][options.name] || new Group(options)\n  }\n\n  Waypoint.Group = Group\n}())\n;(function() {\n  'use strict'\n\n  var $ = window.jQuery\n  var Waypoint = window.Waypoint\n\n  function JQueryAdapter(element) {\n    this.$element = $(element)\n  }\n\n  $.each([\n    'innerHeight',\n    'innerWidth',\n    'off',\n    'offset',\n    'on',\n    'outerHeight',\n    'outerWidth',\n    'scrollLeft',\n    'scrollTop'\n  ], function(i, method) {\n    JQueryAdapter.prototype[method] = function() {\n      var args = Array.prototype.slice.call(arguments)\n      return this.$element[method].apply(this.$element, args)\n    }\n  })\n\n  $.each([\n    'extend',\n    'inArray',\n    'isEmptyObject'\n  ], function(i, method) {\n    JQueryAdapter[method] = $[method]\n  })\n\n  Waypoint.adapters.push({\n    name: 'jquery',\n    Adapter: JQueryAdapter\n  })\n  Waypoint.Adapter = JQueryAdapter\n}())\n;(function() {\n  'use strict'\n\n  var Waypoint = window.Waypoint\n\n  function createExtension(framework) {\n    return function() {\n      var waypoints = []\n      var overrides = arguments[0]\n\n      if (framework.isFunction(arguments[0])) {\n        overrides = framework.extend({}, arguments[1])\n        overrides.handler = arguments[0]\n      }\n\n      this.each(function() {\n        var options = framework.extend({}, overrides, {\n          element: this\n        })\n        if (typeof options.context === 'string') {\n          options.context = framework(this).closest(options.context)[0]\n        }\n        waypoints.push(new Waypoint(options))\n      })\n\n      return waypoints\n    }\n  }\n\n  if (window.jQuery) {\n    window.jQuery.fn.waypoint = createExtension(window.jQuery)\n  }\n  if (window.Zepto) {\n    window.Zepto.fn.waypoint = createExtension(window.Zepto)\n  }\n}())\n;","(function(jQuery) {\n    var LOADING_AD_POSITION_THRESHOLD = 300;\n    var RELOADING_AD_POSITION_THRESHOLD = 150;\n\n    if (typeof(jQuery) === 'undefined') {\n        throw new Error('jQuery is not defined');\n    }\n\n    jQuery(function() {\n        new ResizeSensor(jQuery('body'), function() {\n            Waypoint.refreshAll()\n        });\n    });\n\n    /**\n     * @param {jQuery} $element\n     * @param {object} options\n     */\n    function init($element, options) {\n        if (!$element) {\n            throw new Error('Element is not defined');\n        }\n\n        options = options || {};\n        options.loadingThreshold = options.loadingThreshold || LOADING_AD_POSITION_THRESHOLD;\n        options.reloadingThreshold = options.reloadingThreshold || RELOADING_AD_POSITION_THRESHOLD;\n\n        new Waypoint({\n            element: $element[0],\n            handler: function(direction) {\n                if (direction === 'down') {\n                    $element.trigger('load-ad');\n                }\n            },\n            offset: window.innerHeight + options.loadingThreshold\n        });\n\n        new Waypoint({\n            element: $element[0],\n            handler: function(direction) {\n                if (direction === 'up') {\n                    $element.trigger('reload-ad');\n                }\n            },\n            offset: -250 - options.reloadingThreshold\n        });\n    }\n\n    var AdRefresher = {\n        init: init\n    };\n\n    // make available to common module loader\n    if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n        module.exports = AdRefresher;\n    } else {\n        window.AdRefresher = AdRefresher;\n    }\n})(jQuery);\n"],"sourceRoot":"/source/"}